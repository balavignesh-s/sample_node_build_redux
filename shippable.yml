# Language setting
language: node_js

# Version number
node_js:
  - 0.10.25
  - 4.2.0

branches:
  except:
    - post-ci
    - "#include"
env:
  matrix:
    - M1=one
    - secure: vTCs3XMzxHx3MazFK/4r58XoJwKbN9sXB1XlHlac+0n3s4Q1x7e6JElOWAEZft1V3yq6v1gskTgPo7QsO5+eG+fK896HvgdUBUl+El4XRWqbGGNcdX2Li7P9ylzbBouAaO730/ttY+VPObsk8wzIJOE5N2HoFkIats/nXtvrBBJ/FgGNDOM63N1Ubmvlba1evDQyczlwzS6SVnyBWejFRe5VsFJ2Gy4SBWBfCU/T25xmF9i7yWg4fSySm75Cu98JLjoCE0/Ogz+W27OgcO1efev1kTH7dST8RYG8VlZNZcVYV/5ys9MCx0DFrQlMRA2ajtsexNPNcyunfV37Zsij+A==
services:
  - selenium
  - mysql
  - postgres
  - "mongo"
  
build:
  #pre_ci:
   # - docker build -t=shippabledocker/sample_node .

  pre_ci_boot:
    image_name: drydock/u12nodpls
    image_tag: prod
    pull: true
    options: '--privileged=true --net=bridge -e FOO=true -e BOO=false'

  ci:
    - ps -eax
    - ls -al
    - echo $M1
    - echo $key3
    - docker pull drydock/u12nodall:prod
    - docker pull drydock/u14nodall:prod
    - docker pull drydock/u12pytall:prod
 # post_ci:
  #  - docker push shippabledocker/sample_node

integrations:
  hub:
    - integrationName: ship-docker
      type: docker
      branches:
        only:
          - master
